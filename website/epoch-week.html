<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Epoch Week Calendar</title>
    <meta name="description" content="The Epoch Week Calendar counts weeks from January 1st, 1970, similar to epoch time but week number instead." />
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" />
    <style>
      body {
        display: none;
        color: white;
        background-color: #151c23;
        font-family: Roboto, serif;
        font-size: 48px;
      }

      .calendar {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        text-align: center;
      }

      .timezone {
        font-size: 20px;
      }
    </style>
  </head>
  <body>
    <div id="calendar" class="calendar"></div>
    <script>
      // Redirect to personal page
      const redirect = true;

      if (!redirect || window.location.pathname === "/calendar") {
        document.body.style.display = "block";
      } else {
        window.location.assign("https://linktr.ee/canmingir");
      }

      function ew(date = new Date()) {
        return Math.floor(Math.floor(date / (60 * 60 * 24 * 1000) + 3) / 7);
      }

      const display = () => {
        const today = new Date();

        const weekday = new Array(7);
        weekday[0] = "Sunday";
        weekday[1] = "Monday";
        weekday[2] = "Tuesday";
        weekday[3] = "Wednesday";
        weekday[4] = "Thursday";
        weekday[5] = "Friday";
        weekday[6] = "Saturday";

        let print = weekday[today.getUTCDay()];
        print += " ";
        print += ew();

        let time = today.getUTCHours();
        time += ":";
        time += String(today.getUTCMinutes()).padStart(2, "0");

        document.getElementById("calendar").innerHTML = `${print}<br/>&nbsp;&nbsp;&nbsp;${time}<span class="timezone">UTC</span>`;
      };

      display();
      setInterval(display, 60 * 1000);
    </script>
  </body>
</html>
