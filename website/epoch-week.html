<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Epoch Week</title>
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" />
    <style>
      body {
        display: none;
        color: white;
        background-color: #313a40;
        font-family: Roboto, serif;
        font-size: 48px;
      }

      .calendar {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        text-align: center;
      }
    </style>
  </head>
  <body>
    <div id="calendar" class="calendar"></div>
    <script>
      if (window.location.pathname === "/epoch-week") {
        document.body.style.display = "block";
      } else {
        window.location.assign("https://linktr.ee/canmingir");
      }

      const display = () => {
        const epoch = new Date(0);
        const today = new Date();

        const diff = today - epoch;

        const weekday = new Array(7);
        weekday[0] = "Sunday";
        weekday[1] = "Monday";
        weekday[2] = "Tuesday";
        weekday[3] = "Wednesday";
        weekday[4] = "Thursday";
        weekday[5] = "Friday";
        weekday[6] = "Saturday";

        let ew = weekday[today.getUTCDay()];
        ew += " ";
        ew += Math.ceil(Math.ceil(diff / (60 * 60 * 24 * 1000) + 3) / 7);

        let time = today.getUTCHours();
        time += ":";
        time += String(today.getUTCMinutes()).padStart(2, "0");

        document.getElementById("calendar").innerHTML = `${ew}<br/>${time}`;
      };

      display();
      setInterval(display, 60 * 1000);
    </script>
  </body>
</html>
